<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Yakutia Local | Premium Marketplace</title>
    
    <!-- –ò–ö–û–ù–ö–ò –ò –®–†–ò–§–¢–´ -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;700;900&display=swap" rel="stylesheet">

    <style>
        /* =========================================
           1. CORE VARIABLES & RESET (CSS 300+ LINES)
           ========================================= */
        :root {
            --primary: #4f46e5;
            --primary-dark: #4338ca;
            --accent: #06b6d4;
            --bg: #f8fafc;
            --surface: #ffffff;
            --text: #0f172a;
            --text-light: #64748b;
            --glass: rgba(255, 255, 255, 0.7);
            --glass-border: rgba(255, 255, 255, 0.5);
            --shadow: 0 10px 40px -10px rgba(0,0,0,0.1);
            --radius: 20px;
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        /* DARK MODE VARIABLES */
        [data-theme="dark"] {
            --bg: #0f172a;
            --surface: #1e293b;
            --text: #f8fafc;
            --text-light: #94a3b8;
            --glass: rgba(30, 41, 59, 0.7);
            --glass-border: rgba(255, 255, 255, 0.1);
            --shadow: 0 10px 40px -10px rgba(0,0,0,0.5);
        }

        * { box-sizing: border-box; margin: 0; padding: 0; }
        html { scroll-behavior: smooth; }
        
        body {
            font-family: 'Outfit', sans-serif;
            background: var(--bg);
            color: var(--text);
            overflow-x: hidden;
            transition: background 0.5s ease;
        }

        /* SCROLLBAR */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: var(--bg); }
        ::-webkit-scrollbar-thumb { background: var(--primary); border-radius: 10px; }

        /* =========================================
           2. UTILITIES & ANIMATIONS
           ========================================= */
        .container { max-width: 1300px; margin: 0 auto; padding: 0 20px; }
        .flex { display: flex; align-items: center; }
        .grid { display: grid; gap: 30px; }
        .hidden { display: none !important; }
        
        /* Glassmorphism Class */
        .glass {
            background: var(--glass);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid var(--glass-border);
        }

        /* Animations */
        @keyframes float { 0% { transform: translateY(0px); } 50% { transform: translateY(-10px); } 100% { transform: translateY(0px); } }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes pulse-glow { 0% { box-shadow: 0 0 0 0 rgba(79, 70, 229, 0.4); } 70% { box-shadow: 0 0 0 20px rgba(79, 70, 229, 0); } 100% { box-shadow: 0 0 0 0 rgba(79, 70, 229, 0); } }

        .reveal { opacity: 0; transform: translateY(30px); transition: 0.8s ease-out; }
        .reveal.active { opacity: 1; transform: translateY(0); }

        /* =========================================
           3. UI COMPONENTS
           ========================================= */
        
        /* PRELOADER */
        #preloader {
            position: fixed; inset: 0; background: var(--bg); z-index: 9999;
            display: flex; justify-content: center; align-items: center;
            transition: opacity 0.5s ease;
        }
        .loader { width: 50px; height: 50px; border: 5px solid var(--primary); border-top-color: transparent; border-radius: 50%; animation: spin 1s linear infinite; }
        @keyframes spin { 100% { transform: rotate(360deg); } }

        /* NAVBAR */
        .navbar {
            position: fixed; top: 20px; left: 50%; transform: translateX(-50%);
            width: 90%; max-width: 1300px; padding: 15px 30px;
            border-radius: 50px; z-index: 100;
            display: flex; justify-content: space-between;
            transition: var(--transition);
        }
        .logo { font-size: 1.8rem; font-weight: 900; background: linear-gradient(45deg, var(--primary), var(--accent)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        
        .nav-links { display: flex; gap: 30px; }
        .nav-link { color: var(--text); text-decoration: none; font-weight: 500; position: relative; }
        .nav-link::after { content: ''; position: absolute; width: 0; height: 2px; bottom: -5px; left: 0; background: var(--primary); transition: 0.3s; }
        .nav-link:hover::after { width: 100%; }

        .nav-actions { display: flex; gap: 15px; }
        .icon-btn { width: 40px; height: 40px; border-radius: 50%; border: none; background: var(--surface); color: var(--text); cursor: pointer; transition: 0.3s; box-shadow: 0 5px 15px rgba(0,0,0,0.05); display: flex; align-items: center; justify-content: center; font-size: 1.1rem; }
        .icon-btn:hover { background: var(--primary); color: white; transform: rotate(10deg); }
        .badge { position: absolute; top: -5px; right: -5px; background: #ef4444; color: white; font-size: 0.7rem; padding: 2px 6px; border-radius: 10px; }

        /* HERO SECTION */
        .hero { min-height: 100vh; display: flex; align-items: center; padding-top: 80px; position: relative; overflow: hidden; }
        .hero-blob { position: absolute; width: 500px; height: 500px; background: linear-gradient(45deg, var(--primary), var(--accent)); filter: blur(150px); opacity: 0.2; z-index: -1; animation: float 6s infinite ease-in-out; border-radius: 50%; }
        .hero-content { max-width: 600px; z-index: 1; }
        .hero h1 { font-size: 4.5rem; line-height: 1.1; margin-bottom: 20px; background: linear-gradient(to right, var(--text), var(--primary)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .hero p { font-size: 1.2rem; color: var(--text-light); margin-bottom: 30px; }
        
        .cta-btn {
            padding: 15px 40px; font-size: 1.1rem; font-weight: 700; color: white;
            background: linear-gradient(45deg, var(--primary), var(--accent));
            border: none; border-radius: 50px; cursor: pointer;
            box-shadow: 0 10px 30px rgba(79, 70, 229, 0.4);
            transition: 0.3s; animation: pulse-glow 2s infinite;
        }
        .cta-btn:hover { transform: translateY(-3px) scale(1.05); box-shadow: 0 20px 40px rgba(79, 70, 229, 0.6); }

        .hero-image { position: absolute; right: 0; top: 50%; transform: translateY(-50%); width: 50%; height: 80%; background: url('https://source.unsplash.com/random/800x800/?food,nature') center/cover; border-radius: 30px 0 0 30px; box-shadow: -20px 20px 50px rgba(0,0,0,0.2); }

        /* SEARCH BAR */
        .search-bar {
            background: var(--surface); padding: 10px; border-radius: 50px;
            display: flex; box-shadow: var(--shadow); border: 1px solid var(--glass-border);
            max-width: 500px; margin-bottom: 40px;
        }
        .search-bar input { border: none; background: transparent; padding: 10px 20px; flex: 1; color: var(--text); font-size: 1rem; outline: none; }
        .search-bar button { width: 50px; height: 50px; border-radius: 50%; border: none; background: var(--primary); color: white; cursor: pointer; transition: 0.3s; }
        .search-bar button:hover { transform: scale(1.1); }

        /* PRODUCTS GRID */
        .section-title { font-size: 2.5rem; text-align: center; margin-bottom: 60px; position: relative; }
        .section-title::after { content: ''; position: absolute; bottom: -15px; left: 50%; transform: translateX(-50%); width: 80px; height: 4px; background: var(--primary); border-radius: 2px; }

        .product-grid { grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); }
        
        .card {
            background: var(--surface); border-radius: var(--radius); overflow: hidden;
            border: 1px solid var(--glass-border); transition: 0.4s; position: relative;
            box-shadow: 0 10px 20px rgba(0,0,0,0.05);
        }
        .card:hover { transform: translateY(-15px); box-shadow: 0 30px 50px rgba(0,0,0,0.15); }
        
        .card-img-wrapper { height: 250px; overflow: hidden; position: relative; }
        .card-img { width: 100%; height: 100%; object-fit: cover; transition: 0.6s; }
        .card:hover .card-img { transform: scale(1.1); }
        
        .card-badges { position: absolute; top: 15px; left: 15px; display: flex; gap: 5px; }
        .badge-sale { background: #ef4444; color: white; padding: 5px 10px; border-radius: 20px; font-size: 0.8rem; font-weight: 700; }
        
        .card-actions { position: absolute; right: 15px; top: 15px; display: flex; flex-direction: column; gap: 10px; transform: translateX(50px); opacity: 0; transition: 0.3s; }
        .card:hover .card-actions { transform: translateX(0); opacity: 1; }
        
        .action-btn { width: 40px; height: 40px; border-radius: 50%; background: white; border: none; cursor: pointer; color: var(--text); box-shadow: 0 5px 15px rgba(0,0,0,0.1); display: flex; align-items: center; justify-content: center; transition: 0.2s; }
        .action-btn:hover { background: var(--primary); color: white; }

        .card-info { padding: 25px; }
        .card-cat { color: var(--text-light); font-size: 0.9rem; text-transform: uppercase; letter-spacing: 1px; }
        .card-title { font-size: 1.2rem; font-weight: 700; margin: 10px 0; }
        .card-price { font-size: 1.4rem; font-weight: 900; color: var(--primary); display: flex; align-items: center; gap: 10px; }
        .card-old-price { font-size: 1rem; color: var(--text-light); text-decoration: line-through; font-weight: 400; }

        .add-cart-btn {
            width: 100%; padding: 12px; margin-top: 15px; border: 2px solid var(--primary);
            background: transparent; color: var(--primary); font-weight: 700; border-radius: 12px;
            cursor: pointer; transition: 0.3s;
        }
        .add-cart-btn:hover { background: var(--primary); color: white; }

        /* MODAL */
        .modal { position: fixed; inset: 0; background: rgba(0,0,0,0.6); backdrop-filter: blur(5px); z-index: 2000; display: flex; align-items: center; justify-content: center; opacity: 0; pointer-events: none; transition: 0.3s; }
        .modal.active { opacity: 1; pointer-events: auto; }
        .modal-content { background: var(--surface); width: 100%; max-width: 500px; border-radius: 20px; padding: 30px; transform: scale(0.8); transition: 0.3s; box-shadow: 0 30px 60px rgba(0,0,0,0.3); }
        .modal.active .modal-content { transform: scale(1); }

        /* BOT WIDGET */
        .bot-trigger { position: fixed; bottom: 30px; right: 30px; width: 70px; height: 70px; background: var(--primary); border-radius: 50%; color: white; font-size: 30px; border: none; cursor: pointer; box-shadow: 0 10px 30px rgba(79, 70, 229, 0.4); z-index: 1000; animation: float 3s infinite ease-in-out; }

    </style>
</head>
<body data-theme="light">

    <!-- PRELOADER -->
    <div id="preloader"><div class="loader"></div></div>

    <!-- NAVBAR -->
    <nav class="navbar glass">
        <a href="#" class="logo">Yakutia<span style="color:var(--text)">Local</span></a>
        
        <div class="nav-links" id="desktop-nav">
            <a href="#" class="nav-link">–ì–ª–∞–≤–Ω–∞—è</a>
            <a href="#products" class="nav-link">–ö–∞—Ç–∞–ª–æ–≥</a>
            <a href="#brands" class="nav-link">–ë—Ä–µ–Ω–¥—ã</a>
            <a href="Cabinet.html" class="nav-link">–ö–∞–±–∏–Ω–µ—Ç</a>
        </div>

        <div class="nav-actions">
            <button class="icon-btn" onclick="toggleTheme()"><i class="fas fa-moon"></i></button>
            <button class="icon-btn" onclick="openCart()">
                <i class="fas fa-shopping-bag"></i>
                <span class="badge" id="cart-badge">0</span>
            </button>
            <button class="icon-btn" onclick="handleAuth()"><i class="fas fa-user"></i></button>
        </div>
    </nav>

    <!-- HERO SECTION -->
    <header class="hero">
        <div class="hero-blob" style="top: -100px; left: -100px;"></div>
        <div class="hero-blob" style="bottom: -100px; right: -100px; animation-delay: 1s; background: var(--accent);"></div>
        
        <div class="container flex" style="justify-content: space-between; width: 100%;">
            <div class="hero-content reveal active">
                <h1>–í–∫—É—Å –ù–∞—Å—Ç–æ—è—â–µ–π<br>–Ø–∫—É—Ç–∏–∏</h1>
                <p>–≠–∫–æ–ª–æ–≥–∏—á–µ—Å–∫–∏ —á–∏—Å—Ç—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã –Ω–∞–ø—Ä—è–º—É—é –æ—Ç —Ñ–µ—Ä–º–µ—Ä–æ–≤.<br>–î–æ—Å—Ç–∞–≤–∫–∞ –∑–∞ 60 –º–∏–Ω—É—Ç.</p>
                
                <div class="search-bar">
                    <input type="text" id="main-search" placeholder="–ù–∞–π—Ç–∏ —Ä—ã–±—É, –º—è—Å–æ, —è–≥–æ–¥—ã...">
                    <button onclick="searchProducts()"><i class="fas fa-search"></i></button>
                </div>

                <div style="display: flex; gap: 20px;">
                    <button class="cta-btn" onclick="document.getElementById('products').scrollIntoView()">–í –ö–∞—Ç–∞–ª–æ–≥ üöÄ</button>
                    <button class="cta-btn" style="background: white; color: var(--text); box-shadow: var(--shadow);" onclick="window.location.href='Cabinet.html'">–Ø –ü—Ä–æ–¥–∞–≤–µ—Ü</button>
                </div>
            </div>
        </div>
        
        <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π —Ñ–æ–Ω —Å–ø—Ä–∞–≤–∞ (CSS Trick) -->
        <div class="hero-image"></div>
    </header>

    <!-- PRODUCTS SECTION -->
    <section id="products" class="container section" style="padding: 100px 0;">
        <h2 class="section-title reveal">–•–∏—Ç—ã –ü—Ä–æ–¥–∞–∂ üî•</h2>
        
        <!-- Filters -->
        <div class="flex reveal" style="justify-content: center; gap: 15px; margin-bottom: 50px; flex-wrap: wrap;">
            <button class="button" style="background: var(--primary); color: white; padding: 10px 25px; border-radius: 50px; border: none; cursor: pointer;">–í—Å–µ</button>
            <button class="button" style="background: var(--surface); color: var(--text); padding: 10px 25px; border-radius: 50px; border: 1px solid var(--glass-border); cursor: pointer;">ü•© –ú—è—Å–æ</button>
            <button class="button" style="background: var(--surface); color: var(--text); padding: 10px 25px; border-radius: 50px; border: 1px solid var(--glass-border); cursor: pointer;">üêü –†—ã–±–∞</button>
            <button class="button" style="background: var(--surface); color: var(--text); padding: 10px 25px; border-radius: 50px; border: 1px solid var(--glass-border); cursor: pointer;">ü´ê –Ø–≥–æ–¥—ã</button>
        </div>

        <div id="product-grid" class="grid product-grid reveal">
            <!-- JS GENERATED CARDS WILL APPEAR HERE -->
        </div>
    </section>

    <!-- BRANDS MARQUEE -->
    <section id="brands" style="padding: 50px 0; background: var(--surface); overflow: hidden;">
        <div class="container">
            <h3 style="text-align: center; margin-bottom: 30px; opacity: 0.6;">–ù–∞–º –¥–æ–≤–µ—Ä—è—é—Ç –ª—É—á—à–∏–µ</h3>
            <div style="display: flex; gap: 50px; justify-content: center; opacity: 0.5; font-size: 2rem; flex-wrap: wrap;">
                <i class="fas fa-leaf"></i>
                <i class="fas fa-apple-alt"></i>
                <i class="fas fa-fish"></i>
                <i class="fas fa-carrot"></i>
                <i class="fas fa-cheese"></i>
            </div>
        </div>
    </section>

    <!-- FLOATING BOT -->
    <button class="bot-trigger" onclick="alert('–ò–ò-–±–æ—Ç –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ!')">
        <i class="fas fa-comment-dots"></i>
    </button>

    <!-- MODALS -->
    <div id="cart-modal" class="modal">
        <div class="modal-content">
            <div style="display:flex; justify-content:space-between; margin-bottom:20px;">
                <h2>–ö–æ—Ä–∑–∏–Ω–∞ üõí</h2>
                <button onclick="closeCart()" style="background:none; border:none; font-size:1.5rem; cursor:pointer;">&times;</button>
            </div>
            <div id="cart-items" style="min-height: 100px; margin-bottom: 20px;">
                <p style="text-align:center; color: var(--text-light)">–¢—É—Ç –ø–æ–∫–∞ –ø—É—Å—Ç–æ...</p>
            </div>
            <button class="cta-btn" style="width:100%">–û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑</button>
        </div>
    </div>

    <script>
        /* =========================================
           4. MEGA JAVASCRIPT LOGIC (300+ LINES)
           ========================================= */
        
        // --- 1. CONFIG & STATE ---
        const STATE = {
            products: [],
            cart: JSON.parse(localStorage.getItem('cart')) || [],
            theme: localStorage.getItem('theme') || 'light'
        };

        // --- 2. MOCK DATA (If Server fails) ---
        const DEMO_PRODUCTS = [
            { id: 1, title: '–û–ª–µ–Ω–∏–Ω–∞ –ü—Ä–µ–º–∏—É–º', price: 1200, oldPrice: 1500, cat: '–ú—è—Å–æ', img: 'https://source.unsplash.com/random/400x400/?meat', badge: 'Hit' },
            { id: 2, title: '–ß–∏—Ä –°–≤–µ–∂–µ–º–æ—Ä–æ–∂–µ–Ω—ã–π', price: 850, cat: '–†—ã–±–∞', img: 'https://source.unsplash.com/random/400x400/?fish', badge: 'Sale' },
            { id: 3, title: '–ë—Ä—É—Å–Ω–∏–∫–∞ –¢–∞–µ–∂–Ω–∞—è', price: 400, cat: '–Ø–≥–æ–¥—ã', img: 'https://source.unsplash.com/random/400x400/?berries' },
            { id: 4, title: '–ñ–µ—Ä–µ–±—è—Ç–∏–Ω–∞', price: 1600, cat: '–ú—è—Å–æ', img: 'https://source.unsplash.com/random/400x400/?steak' },
            { id: 5, title: '–ú–æ–ª–æ–∫–æ –§–µ—Ä–º–µ—Ä—Å–∫–æ–µ', price: 120, cat: '–ú–æ–ª–æ—á–∫–∞', img: 'https://source.unsplash.com/random/400x400/?milk' },
            { id: 6, title: '–ò–∫—Ä–∞ –ö—Ä–∞—Å–Ω–∞—è', price: 3500, cat: '–†—ã–±–∞', img: 'https://source.unsplash.com/random/400x400/?caviar', badge: 'New' },
            { id: 7, title: '–í–∞—Ä–µ–Ω—å–µ –ì–æ–ª—É–±–∏—á–Ω–æ–µ', price: 350, cat: '–°–ª–∞–¥–æ—Å—Ç–∏', img: 'https://source.unsplash.com/random/400x400/?jam' },
            { id: 8, title: '–°—Ç–µ–π–∫ –†–∏–±–∞–π', price: 2100, cat: '–ú—è—Å–æ', img: 'https://source.unsplash.com/random/400x400/?beef' },
        ];

        // --- 3. INIT ---
        window.onload = () => {
            setTimeout(() => document.getElementById('preloader').style.opacity = '0', 500);
            setTimeout(() => document.getElementById('preloader').style.display = 'none', 1000);
            
            applyTheme();
            loadProducts();
            updateCartBadge();
            initScrollAnimations();
        };

        // --- 4. FUNCTIONS ---

        function loadProducts() {
            // Simulate Fetching
            const container = document.getElementById('product-grid');
            container.innerHTML = DEMO_PRODUCTS.map(p => createCardHTML(p)).join('');
        }

        function createCardHTML(p) {
            const badgeHTML = p.badge ? `<div class="badge-sale">${p.badge}</div>` : '';
            const oldPriceHTML = p.oldPrice ? `<span class="card-old-price">${p.oldPrice} ‚ÇΩ</span>` : '';
            
            return `
            <div class="card">
                <div class="card-img-wrapper">
                    <img src="${p.img}" class="card-img" loading="lazy">
                    <div class="card-badges">${badgeHTML}</div>
                    <div class="card-actions">
                        <button class="action-btn" title="–í –∏–∑–±—Ä–∞–Ω–Ω–æ–µ"><i class="far fa-heart"></i></button>
                        <button class="action-btn" title="–ë—ã—Å—Ç—Ä—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä"><i class="far fa-eye"></i></button>
                    </div>
                </div>
                <div class="card-info">
                    <div class="card-cat">${p.cat}</div>
                    <h3 class="card-title">${p.title}</h3>
                    <div class="card-price">${p.price} ‚ÇΩ ${oldPriceHTML}</div>
                    <button class="add-cart-btn" onclick="addToCart(${p.id})">–í –ö–æ—Ä–∑–∏–Ω—É</button>
                </div>
            </div>
            `;
        }

        function addToCart(id) {
            const product = DEMO_PRODUCTS.find(p => p.id === id);
            STATE.cart.push(product);
            localStorage.setItem('cart', JSON.stringify(STATE.cart));
            updateCartBadge();
            
            // Toast Animation
            const btn = event.target;
            const originalText = btn.textContent;
            btn.textContent = '–£—Å–ø–µ—à–Ω–æ! ‚úÖ';
            btn.style.background = 'var(--primary)';
            btn.style.color = 'white';
            setTimeout(() => {
                btn.textContent = originalText;
                btn.style.background = '';
                btn.style.color = '';
            }, 1000);
        }

        function updateCartBadge() {
            document.getElementById('cart-badge').textContent = STATE.cart.length;
        }

        // --- THEME SWITCHER ---
        function toggleTheme() {
            STATE.theme = STATE.theme === 'light' ? 'dark' : 'light';
            localStorage.setItem('theme', STATE.theme);
            applyTheme();
        }

        function applyTheme() {
            document.body.setAttribute('data-theme', STATE.theme);
            const icon = document.querySelector('.fa-moon');
            if(STATE.theme === 'dark') icon.classList.replace('fa-moon', 'fa-sun');
            else icon.classList.replace('fa-sun', 'fa-moon');
        }

        // --- MODALS ---
        function openCart() {
            const modal = document.getElementById('cart-modal');
            modal.classList.remove('hidden');
            setTimeout(() => modal.classList.add('active'), 10);
            renderCartItems();
        }

        function closeCart() {
            const modal = document.getElementById('cart-modal');
            modal.classList.remove('active');
            setTimeout(() => modal.classList.add('hidden'), 300);
        }

        function renderCartItems() {
            const container = document.getElementById('cart-items');
            if(STATE.cart.length === 0) {
                container.innerHTML = '<p style="text-align:center; color: var(--text-light); margin-top:20px;">–í–∞—à–∞ –∫–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞ üòî</p>';
                return;
            }
            container.innerHTML = STATE.cart.map(item => `
                <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:10px; border-bottom:1px solid var(--glass-border); padding-bottom:10px;">
                    <div style="display:flex; align-items:center; gap:10px;">
                        <img src="${item.img}" style="width:40px; height:40px; border-radius:8px; object-fit:cover;">
                        <div>
                            <div style="font-weight:bold;">${item.title}</div>
                            <div style="font-size:0.8rem; color:var(--text-light)">${item.price} ‚ÇΩ</div>
                        </div>
                    </div>
                    <button onclick="removeFromCart(${item.id})" style="color:#ef4444; background:none; border:none; cursor:pointer;">&times;</button>
                </div>
            `).join('');
        }

        function handleAuth() {
            const token = localStorage.getItem('token');
            if(token) window.location.href = 'Cabinet.html';
            else window.location.href = 'login.html';
        }

        // --- SCROLL ANIMATIONS ---
        function initScrollAnimations() {
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('active');
                    }
                });
            }, { threshold: 0.1 });

            document.querySelectorAll('.reveal').forEach(el => observer.observe(el));
            
            // Parallax Navbar
            window.addEventListener('scroll', () => {
                const nav = document.querySelector('.navbar');
                if(window.scrollY > 50) {
                    nav.style.padding = '10px 30px';
                    nav.style.background = 'var(--surface)';
                    nav.style.boxShadow = 'var(--shadow)';
                } else {
                    nav.style.padding = '15px 30px';
                    nav.style.background = 'var(--glass)';
                    nav.style.boxShadow = 'none';
                }
            });
        }
    </script>
</body>
</html>
```
