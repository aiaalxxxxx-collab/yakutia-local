<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Made in Yakutia ‚Äî –ú–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: #f2f4f7;
      color: #111;
    }
    a { color: inherit; text-decoration: none; }
    img { max-width: 100%; display: block; }

    :root {
      --accent: #00a86b;
      --accent-dark: #008055;
    }

    header {
      background: var(--accent);
      color: #fff;
    }
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 16px;
    }
    .header-top {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
      padding: 8px 0;
      flex-wrap: wrap;
    }
    .logo {
      font-weight: 700;
      font-size: 18px;
      letter-spacing: 0.08em;
      text-transform: uppercase;
    }
    .logo-sub {
      font-size: 11px;
      opacity: 0.9;
    }
    .search {
      flex: 1 1 260px;
      display: flex;
      background: #fff;
      border-radius: 999px;
      padding: 4px 10px;
      gap: 6px;
    }
    .search input {
      flex: 1;
      border: none;
      outline: none;
      font: inherit;
      font-size: 13px;
    }
    .search button {
      border: none;
      background: var(--accent);
      color: #fff;
      border-radius: 999px;
      padding: 4px 10px;
      font-size: 12px;
      cursor: pointer;
    }
    .header-right {
      display: flex;
      gap: 10px;
      align-items: center;
      font-size: 13px;
    }
    .header-links {
      display: flex;
      gap: 10px;
    }
    .header-links a { color:#fff; }

    .lang-select {
      padding: 3px 6px;
      border-radius: 999px;
      border: none;
      font-size: 12px;
      cursor: pointer;
    }

    .tabs-bar {
      background: #ffffff;
      border-bottom: 1px solid #d0d4de;
    }
    .tabs-inner {
      display: flex;
      gap: 10px;
      padding: 8px 0;
      font-size: 14px;
    }
    .tab-btn {
      padding: 6px 10px;
      border-radius: 999px;
      cursor: pointer;
      border: 1px solid transparent;
    }
    .tab-btn.active {
      background: var(--accent);
      color: #fff;
      border-color: var(--accent);
    }

    main {
      max-width: 1200px;
      margin: 0 auto;
      padding: 16px;
    }

    .section-title {
      font-size: 20px;
      margin: 0 0 10px;
      font-weight: 700;
    }

    /* –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ */
    .categories {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
      gap: 10px;
      margin-bottom: 16px;
    }
    .category-card {
      background: #ffffff;
      border-radius: 14px;
      padding: 10px;
      border: 1px solid #e0e0e0;
      cursor: pointer;
      display: flex;
      flex-direction: column;
      gap: 4px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.04);
    }
    .category-card.active {
      border-color: var(--accent);
      box-shadow: 0 4px 10px rgba(0,0,0,0.06);
    }
    .category-emoji {
      font-size: 22px;
    }
    .category-title {
      font-size: 14px;
      font-weight: 600;
    }
    .category-sub {
      font-size: 11px;
      color: #666;
    }

    /* –ë–ª–æ–∫ –∏–∑–≤–µ—Å—Ç–Ω—ã—Ö –±—Ä–µ–Ω–¥–æ–≤ */
    .brands-block {
      background: #ffffff;
      border-radius: 14px;
      padding: 10px 12px;
      border: 1px solid #e0e0e0;
      margin-bottom: 16px;
    }
    .brands-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 8px;
      gap: 8px;
    }
    .brands-title {
      font-size: 15px;
      font-weight: 600;
    }
    .brands-subtitle {
      font-size: 11px;
      color: #666;
    }
    .brands-list {
      display: grid;
      grid-auto-flow: column;
      grid-auto-columns: minmax(180px, 1fr);
      gap: 10px;
      overflow-x: auto;
      padding-bottom: 4px;
    }
    .brand-card {
      min-width: 180px;
      background: #f7fafc;
      border-radius: 10px;
      padding: 8px;
      border: 1px solid #e0e0e0;
      font-size: 12px;
      cursor: pointer;
    }
    .brand-name {
      font-weight: 600;
      margin-bottom: 3px;
    }
    .brand-desc {
      font-size: 11px;
      color: #555;
    }
    .brand-tag {
      display: inline-block;
      margin-top: 4px;
      font-size: 10px;
      color: #055c36;
      background: #e6f7ef;
      padding: 2px 6px;
      border-radius: 999px;
    }

    /* –ü–æ–¥—Ñ–∏–ª—å—Ç—Ä—ã */
    .subfilters {
      display: flex;
      gap: 8px;
      margin: 6px 0 10px;
      font-size: 13px;
      flex-wrap: wrap;
    }
    .subfilter-btn {
      padding: 4px 10px;
      border-radius: 999px;
      border: 1px solid #d0d4de;
      cursor: pointer;
      background: #fff;
    }
    .subfilter-btn.active {
      background: #e6f7ef;
      border-color: var(--accent);
      color: #055c36;
    }

    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 14px;
    }

    .card {
      background: #ffffff;
      border-radius: 12px;
      border: 1px solid #e0e0e0;
      padding: 10px;
      display: flex;
      flex-direction: column;
      font-size: 13px;
      position: relative;
      box-shadow: 0 4px 10px rgba(0,0,0,0.04);
    }
    .card-like {
      position: absolute;
      top: 8px;
      right: 8px;
      font-size: 16px;
      cursor: pointer;
      color: #999;
    }
    .badge-top {
      position: absolute;
      left: 8px;
      top: 8px;
      background: #ff9800;
      color: #fff;
      font-size: 11px;
      padding: 2px 6px;
      border-radius: 999px;
    }
    .badge-sale {
      position: absolute;
      left: 8px;
      top: 28px;
      background: #e91e63;
      color: #fff;
      font-size: 11px;
      padding: 2px 6px;
      border-radius: 999px;
    }
    .badge-local {
      position: absolute;
      left: 8px;
      bottom: 8px;
      background: #00a86b;
      color: #fff;
      font-size: 10px;
      padding: 2px 6px;
      border-radius: 999px;
    }
    .card-img {
      height: 180px;
      border-radius: 10px;
      background: #f5f5f5;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 12px;
      color: #666;
      margin-bottom: 8px;
      text-align: center;
      padding: 4px;
    }
    .card-price {
      margin-top: 4px;
      font-size: 16px;
      font-weight: 600;
      color: #e91e63;
    }
    .card-price-old {
      font-size: 11px;
      color: #999;
      text-decoration: line-through;
      margin-left: 6px;
    }
    .card-discount {
      font-size: 11px;
      color: #388e3c;
      margin-left: 4px;
    }
    .card-title {
      margin-top: 4px;
      font-size: 13px;
      line-height: 1.3;
    }
    .card-meta {
      margin-top: 4px;
      font-size: 11px;
      color: #777;
    }

    .card-ads {
      background: #ffffff;
      border-radius: 10px;
      border: 1px solid #e0e0e0;
      padding: 8px;
      font-size: 13px;
    }
    .ads-title { font-weight: 500; margin-bottom: 4px; }
    .ads-price { font-weight: 600; margin-bottom: 2px; }
    .ads-meta { font-size: 11px; color: #777; }

    .card-event {
      background: #ffffff;
      border-radius: 10px;
      border: 1px solid #e0e0e0;
      padding: 8px;
      font-size: 13px;
    }
    .event-date { font-size: 11px; color: #555; margin-bottom: 2px; }
    .event-title { font-weight: 600; margin-bottom: 2px; }
    .event-place { font-size: 11px; color: #777; }
  </style>
</head>
<body>

<header>
  <div class="container header-top">
    <div>
      <div class="logo">Made in Yakutia</div>
      <div class="logo-sub">–ú–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å –º–µ—Å—Ç–Ω—ã—Ö –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–µ–π</div>
    </div>
    <div class="search">
      <input type="text" placeholder="–ò—Å–∫–∞—Ç—å —Ç–æ–≤–∞—Ä—ã, –±—Ä–µ–Ω–¥—ã, –º–∞—Å—Ç–µ—Ä–æ–≤‚Ä¶">
      <button type="button">–ù–∞–π—Ç–∏</button>
    </div>
    <div class="header-right">
      <select class="lang-select" id="lang-select">
        <option value="ru">RU</option>
        <option value="en">EN</option>
        <option value="zh">‰∏≠Êñá</option>
      </select>
      <div class="header-links">
        <a href="cabinet.html">–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç</a>
        <span>–ú–æ–∏ –∑–∞–∫–∞–∑—ã</span>
        <span>–ö–æ—Ä–∑–∏–Ω–∞</span>
      </div>
    </div>
  </div>
</header>

<div class="tabs-bar">
  <div class="container tabs-inner">
    <div class="tab-btn active" data-tab="market">–ú–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å</div>
    <div class="tab-btn" data-tab="ads">–û–±—ä—è–≤–ª–µ–Ω–∏—è</div>
    <div class="tab-btn" data-tab="events">–ê—Ñ–∏—à–∞</div>
  </div>
</div>

<main>
  <h1 class="section-title" id="section-title">–¢–æ–≤–∞—Ä—ã –º–µ—Å—Ç–Ω—ã—Ö –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–µ–π –Ø–∫—É—Ç–∏–∏</h1>

  <!-- –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ -->
  <section id="categories-section">
    <div class="categories" id="categories">
      <div class="category-card active" data-category="">
        <div class="category-emoji">üåê</div>
        <div class="category-title">–í—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</div>
        <div class="category-sub">–í–µ—Å—å –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å</div>
      </div>
      <div class="category-card" data-category="food">
        <div class="category-emoji">ü•©üçØ</div>
        <div class="category-title">–ü—Ä–æ–¥–æ–≤–æ–ª—å—Å—Ç–≤–∏–µ</div>
        <div class="category-sub">–ö–æ–ª–±–∞—Å—ã, –º–æ–ª–æ–∫–æ, —Å–ª–∞–¥–æ—Å—Ç–∏</div>
      </div>
      <div class="category-card" data-category="clothes">
        <div class="category-emoji">üß•üß§</div>
        <div class="category-title">–û–¥–µ–∂–¥–∞ –∏ –º–µ—Ö</div>
        <div class="category-sub">–®—É–±—ã, —É–Ω—Ç—ã, –∞–∫—Å–µ—Å—Å—É–∞—Ä—ã</div>
      </div>
      <div class="category-card" data-category="souvenirs">
        <div class="category-emoji">üéÅ</div>
        <div class="category-title">–°—É–≤–µ–Ω–∏—Ä—ã</div>
        <div class="category-sub">–ö–æ—Å—Ç—å, —Å–µ—Ä–µ–±—Ä–æ, –¥–µ–∫–æ—Ä</div>
      </div>
      <div class="category-card" data-category="cosmetics">
        <div class="category-emoji">üß¥</div>
        <div class="category-title">–ö–æ—Å–º–µ—Ç–∏–∫–∞ –∏ –ë–ê–î—ã</div>
        <div class="category-sub">–¢—Ä–∞–≤—ã, —á–∞–∏, —É—Ö–æ–¥</div>
      </div>
      <div class="category-card" data-category="industrial">
        <div class="category-emoji">üèó</div>
        <div class="category-title">–ü—Ä–æ–º—Ç–æ–≤–∞—Ä—ã</div>
        <div class="category-sub">–ú–∞—Ç–µ—Ä–∏–∞–ª—ã, –º–µ–±–µ–ª—å</div>
      </div>
    </div>
  </section>

  <!-- –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –±—Ä–µ–Ω–¥—ã -->
  <section class="brands-block">
    <div class="brands-header">
      <div>
        <div class="brands-title">–ò–∑–≤–µ—Å—Ç–Ω—ã–µ –±—Ä–µ–Ω–¥—ã –Ø–∫—É—Ç–∏–∏</div>
        <div class="brands-subtitle">–ö–æ–ª–±–∞—Å—ã, –º–µ—Ö, —Å—É–≤–µ–Ω–∏—Ä—ã, –∫–æ—Å–º–µ—Ç–∏–∫–∞</div>
      </div>
      <div style="font-size:11px;color:#777;">–ù–∞–∂–º–∏ –Ω–∞ –±—Ä–µ–Ω–¥, —á—Ç–æ–±—ã –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å —Ç–æ–≤–∞—Ä—ã</div>
    </div>
    <div class="brands-list" id="brands-list">
      <!-- –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –∏–∑ JS -->
    </div>
  </section>

  <!-- –î–æ–ø. —Ñ–∏–ª—å—Ç—Ä—ã -->
  <div class="subfilters" id="subfilters">
    <button class="subfilter-btn active" data-filter="all">–í—Å–µ</button>
    <button class="subfilter-btn" data-filter="sale">–ê–∫—Ü–∏–∏</button>
    <button class="subfilter-btn" data-filter="popular">–ü–æ–ø—É–ª—è—Ä–Ω–æ–µ</button>
    <button class="subfilter-btn" data-filter="season">–ü–æ —Å–µ–∑–æ–Ω–∞–º</button>
    <button class="subfilter-btn" data-filter="local">–ú–∞–ª—ã–π –±–∏–∑–Ω–µ—Å</button>
  </div>

  <!-- –ú–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å -->
  <div class="grid" id="tab-market"></div>

  <!-- –û–±—ä—è–≤–ª–µ–Ω–∏—è -->
  <div class="grid" id="tab-ads" style="display:none;">
    <article class="card-ads">
      <div class="ads-title">–ü—Ä–æ–¥–∞–º —à–∫—É—Ä—ã –æ–ª–µ–Ω—è</div>
      <div class="ads-price">12 000 ‚ÇΩ</div>
      <div class="ads-meta">–Ø–∫—É—Ç—Å–∫ ‚Ä¢ –ß–∞—Å—Ç–Ω–æ–µ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ ‚Ä¢ –°–µ–≥–æ–¥–Ω—è</div>
    </article>
    <article class="card-ads">
      <div class="ads-title">–°–¥–∞–º –≤ –∞—Ä–µ–Ω–¥—É –º–∞—Å—Ç–µ—Ä—Å–∫—É—é</div>
      <div class="ads-price">25 000 ‚ÇΩ / –º–µ—Å—è—Ü</div>
      <div class="ads-meta">–¶–µ–Ω—Ç—Ä ‚Ä¢ –î–ª—è —Ä–µ–º–µ—Å–ª–µ–Ω–Ω–∏–∫–æ–≤ –∏ –º–∞—Å—Ç–µ—Ä–æ–≤</div>
    </article>
  </div>

  <!-- –ê—Ñ–∏—à–∞ -->
  <div class="grid" id="tab-events" style="display:none;">
    <article class="card-event">
      <div class="event-date">12 –¥–µ–∫–∞–±—Ä—è, 19:00</div>
      <div class="event-title">–§–µ—Å—Ç–∏–≤–∞–ª—å –ª–æ–∫–∞–ª—å–Ω—ã—Ö –±—Ä–µ–Ω–¥–æ–≤ ¬´–°–¥–µ–ª–∞–Ω–æ –≤ –Ø–∫—É—Ç–∏–∏¬ª</div>
      <div class="event-place">–¢–†–¶ ‚Ä¢ –ë–∏–ª–µ—Ç—ã –æ–Ω–ª–∞–π–Ω</div>
    </article>
    <article class="card-event">
      <div class="event-date">20 –¥–µ–∫–∞–±—Ä—è, 18:30</div>
      <div class="event-title">–ú–∞—Å—Ç–µ—Ä‚Äë–∫–ª–∞—Å—Å –ø–æ —Ä–µ–∑—å–±–µ –ø–æ –∫–æ—Å—Ç–∏</div>
      <div class="event-place">–î–æ–º —Ä–µ–º—ë—Å–µ–ª ‚Ä¢ –ó–∞–ø–∏—Å—å –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞</div>
    </article>
  </div>
</main>

<script>
  // ----- –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –æ—Å–Ω–æ–≤–Ω—ã—Ö –≤–∫–ª–∞–¥–æ–∫ -----
  const tabs = document.querySelectorAll('.tab-btn');
  const blocks = {
    market: document.getElementById('tab-market'),
    ads: document.getElementById('tab-ads'),
    events: document.getElementById('tab-events')
  };
  const titleEl = document.getElementById('section-title');
  const categoriesSection = document.getElementById('categories-section');
  const subfilters = document.getElementById('subfilters');

  tabs.forEach(btn => {
    btn.addEventListener('click', () => {
      const tab = btn.dataset.tab;
      tabs.forEach(b => b.classList.remove('active'));
      btn.classList.add('active');
      Object.keys(blocks).forEach(key => {
        blocks[key].style.display = key === tab ? 'grid' : 'none';
      });
      if (tab === 'market') {
        titleEl.textContent = '–¢–æ–≤–∞—Ä—ã –º–µ—Å—Ç–Ω—ã—Ö –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–µ–π –Ø–∫—É—Ç–∏–∏';
      }
      if (tab === 'ads') {
        titleEl.textContent = '–û–±—ä—è–≤–ª–µ–Ω–∏—è –∂–∏—Ç–µ–ª–µ–π –Ø–∫—É—Ç–∏–∏';
      }
      if (tab === 'events') {
        titleEl.textContent = '–°–æ–±—ã—Ç–∏—è –∏ –∞—Ñ–∏—à–∞';
      }
      categoriesSection.style.display = tab === 'market' ? 'block' : 'none';
      subfilters.style.display = tab === 'market' ? 'flex' : 'none';
    });
  });

  // ----- –∏–∑–≤–µ—Å—Ç–Ω—ã–µ –±—Ä–µ–Ω–¥—ã -----
  const BIG_BRANDS = [
    { name: '–Ø–∫—É—Ç—Å–∫–∏–µ –ø—Ä–æ–¥—É–∫—Ç—ã / –¢–î ¬´–Ø–∫—É—Ç–∏—è¬ª', desc: '–ö–æ–ª–±–∞—Å—ã, –ø–æ–ª—É—Ñ–∞–±—Ä–∏–∫–∞—Ç—ã –∏ –¥–µ–ª–∏–∫–∞—Ç–µ—Å—ã –∏–∑ –∫–æ–Ω–∏–Ω—ã, –æ–ª–µ–Ω–∏–Ω—ã, –≥–æ–≤—è–¥–∏–Ω—ã', category: 'food' },
    { name: '–ú—è—Å–æ–∫–æ–º–±–∏–Ω–∞—Ç ¬´–Ø–∫—É—Ç—Å–∫–∏–π¬ª', desc: '–®–∏—Ä–æ–∫–∏–π –∞—Å—Å–æ—Ä—Ç–∏–º–µ–Ω—Ç –º—è—Å–Ω–æ–π –ø—Ä–æ–¥—É–∫—Ü–∏–∏', category: 'food' },
    { name: '¬´–ß–æ—á—É—Ä –ú—É—Ä–∞–Ω¬ª', desc: '–ö–æ–ª–±–∞—Å–Ω–∞—è –∏ –º–æ–ª–æ—á–Ω–∞—è –ø—Ä–æ–¥—É–∫—Ü–∏—è', category: 'food' },
    { name: '¬´–¢—É–π–º–∞–∞–¥–∞¬ª', desc: '–ú–æ–ª–æ—á–Ω–∞—è –ø—Ä–æ–¥—É–∫—Ü–∏—è: –º–æ–ª–æ–∫–æ, –∫–µ—Ñ–∏—Ä, —Å–ª–∏–≤–∫–∏', category: 'food' },
    { name: '¬´–°–∞—Ö–∞–±—É–ª—Ç¬ª', desc: '–•–ª–µ–±, –±—É–ª–æ—á–Ω–∞—è –∏ –∫–æ–Ω–¥–∏—Ç–µ—Ä—Å–∫–∞—è –ø—Ä–æ–¥—É–∫—Ü–∏—è', category: 'food' },
    { name: '–ö–æ–Ω–¥–∏—Ç–µ—Ä—Å–∫–∞—è —Ñ–∞–±—Ä–∏–∫–∞ ¬´–°–∏—Ç—ç¬ª', desc: '–ö–æ–Ω—Ñ–µ—Ç—ã, –≤–∞—Ñ–ª–∏, –∑–µ—Ñ–∏—Ä', category: 'food' },
    { name: '–Ø–∫—É—Ç—Å–∫–∞—è –ø—Ç–∏—Ü–µ—Ñ–∞–±—Ä–∏–∫–∞', desc: '–°–≤–µ–∂–∏–µ —è–π—Ü–∞ –∏ –∫—É—Ä–∏–Ω–æ–µ –º—è—Å–æ', category: 'food' },

    { name: '¬´–°–∞—Ä–¥–∞–Ω–∞¬ª', desc: '–ù–∞—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –∏ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –æ–¥–µ–∂–¥–∞ –∏–∑ –º–µ—Ö–∞ –∏ —Å—É–∫–Ω–∞', category: 'clothes' },
    { name: '¬´–≠–≤–µ—Ä—Å–∫–∏–π¬ª (Ever Sky)', desc: '–°–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –æ–¥–µ–∂–¥–∞, —É–Ω—Ç—ã, –∞–∫—Å–µ—Å—Å—É–∞—Ä—ã', category: 'clothes' },
    { name: '¬´–°–∞–π –°–∞—Ä—ã–Ω¬ª', desc: '–ñ–µ–Ω—Å–∫–∞—è –æ–¥–µ–∂–¥–∞ –∏ –∞–∫—Å–µ—Å—Å—É–∞—Ä—ã –∏–∑ –º–µ—Ö–∞ –∏ –±–∏—Å–µ—Ä–∞', category: 'clothes' },

    { name: '¬´–ö—É–¥–∞–π –ë–∞—Ö—Å—ã¬ª', desc: '–°—É–≤–µ–Ω–∏—Ä—ã –∏ —É–∫—Ä–∞—à–µ–Ω–∏—è –∏–∑ –º–∞–º–æ–Ω—Ç–æ–≤–æ–π –∫–æ—Å—Ç–∏ –∏ –±–∏–≤–Ω—è', category: 'souvenirs' },
    { name: '¬´–ê–ª–º–∞–∑-–≠–ø–∏—Å—Ç–∏–ª—å¬ª', desc: '–Æ–≤–µ–ª–∏—Ä–Ω—ã–µ –∏–∑–¥–µ–ª–∏—è —Å —è–∫—É—Ç—Å–∫–∏–º–∏ –∞–ª–º–∞–∑–∞–º–∏ –∏ —Å–µ—Ä–µ–±—Ä–æ–º', category: 'souvenirs' },
    { name: '–ì–ö ¬´–ú–∞–º–æ–Ω—Ç¬ª', desc: '–°—É–≤–µ–Ω–∏—Ä—ã –∏–∑ –º–∞–º–æ–Ω—Ç–æ–≤–æ–π –∫–æ—Å—Ç–∏, —Ä–æ–≥–∞, –∫–æ–∂–∏ –∏ –º–µ—Ö–∞', category: 'souvenirs' },

    { name: '¬´–°–∞—Ö–∞—Ñ–∞—Ä–º¬ª', desc: '–ë–∞–ª—å–∑–∞–º—ã ¬´–¢–∞—ë–∂–Ω—ã–π –¥–æ–∫—Ç–æ—Ä¬ª, –ë–ê–î—ã –∏ —Ñ–∏—Ç–æ–ø—Ä–æ–¥—É–∫—Ü–∏—è', category: 'cosmetics' },
    { name: 'Arctic Natural / ¬´–Ø–∫—É—Ç—Å–∫–∏–µ —Ç—Ä–∞–≤—ã¬ª', desc: '–ù–∞—Ç—É—Ä–∞–ª—å–Ω–∞—è –∫–æ—Å–º–µ—Ç–∏–∫–∞ –∏ —á–∞–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å–µ–≤–µ—Ä–Ω—ã—Ö —Ä–∞—Å—Ç–µ–Ω–∏–π', category: 'cosmetics' },

    { name: '¬´–°–∞—Ö–∞–º–µ–±–µ–ª—å¬ª', desc: '–ö–æ—Ä–ø—É—Å–Ω–∞—è –∏ –º—è–≥–∫–∞—è –º–µ–±–µ–ª—å', category: 'industrial' }
  ];

  const brandsListEl = document.getElementById('brands-list');
  let currentBrand = '';
  BIG_BRANDS.forEach(brand => {
    const el = document.createElement('div');
    el.className = 'brand-card';
    el.dataset.brand = brand.name;
    el.innerHTML = `
      <div class="brand-name">${brand.name}</div>
      <div class="brand-desc">${brand.desc}</div>
      <div class="brand-tag">–ù–∞–∂–º–∏—Ç–µ, —á—Ç–æ–±—ã –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å</div>
    `;
    el.addEventListener('click', () => {
      if (currentBrand === brand.name) {
        currentBrand = '';
        el.classList.remove('active');
      } else {
        currentBrand = brand.name;
        document.querySelectorAll('.brand-card').forEach(c => c.classList.remove('active'));
        el.classList.add('active');
      }
      renderProducts();
    });
    brandsListEl.appendChild(el);
  });

  // ----- –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ -----
  let currentCategory = '';
  document.querySelectorAll('.category-card').forEach(card => {
    card.addEventListener('click', () => {
      currentCategory = card.dataset.category || '';
      document.querySelectorAll('.category-card').forEach(c => c.classList.remove('active'));
      card.classList.add('active');
      renderProducts();
    });
  });

  // ----- –ø–æ–¥—Ñ–∏–ª—å—Ç—Ä—ã -----
  let currentFilter = 'all';
  document.querySelectorAll('.subfilter-btn').forEach(btn => {
    btn.addEventListener('click', () => {
      currentFilter = btn.dataset.filter;
      document.querySelectorAll('.subfilter-btn').forEach(b => b.classList.remove('active'));
      btn.classList.add('active');
      renderProducts();
    });
  });

  // ----- –∑–∞–≥—Ä—É–∑–∫–∞ —Ç–æ–≤–∞—Ä–æ–≤ —Å —Å–µ—Ä–≤–µ—Ä–∞ -----
  let productsCache = [];
  async function loadMarketFromServer() {
    try {
      const res = await fetch('/api/products');
      const products = await res.json();
      // –µ—Å–ª–∏ —Ç–æ–≤–∞—Ä—ã –±–µ–∑ –∫–∞—Ç–µ–≥–æ—Ä–∏–π/–±—Ä–µ–Ω–¥–∞ ‚Äî –º–æ–∂–Ω–æ —á–∞—Å—Ç–∏—á–Ω–æ –ø–æ–¥—Å—Ç–∞–≤–∏—Ç—å
      productsCache = products.map(p => ({
        category: '', // –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
        brand: '–ú–∞–ª—ã–π –±–∏–∑–Ω–µ—Å –Ø–∫—É—Ç–∏–∏',
        isLocal: true,
        ...p
      }));
      renderProducts();
    } catch (e) {
      console.error(e);
    }
  }

  function renderProducts() {
    const container = document.getElementById('tab-market');
    container.innerHTML = '';

    let products = [...productsCache];

    // —Ñ–∏–ª—å—Ç—Ä –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
    if (currentCategory) {
      products = products.filter(p => p.category === currentCategory);
    }

    // —Ñ–∏–ª—å—Ç—Ä –ø–æ –±—Ä–µ–Ω–¥—É
    if (currentBrand) {
      products = products.filter(p => p.brand === currentBrand);
    }

    // –¥–æ–ø. —Ñ–∏–ª—å—Ç—Ä—ã
    if (currentFilter === 'sale') {
      products = products.filter(p => p.isSale);
    } else if (currentFilter === 'popular') {
      products = products
        .slice()
        .sort((a, b) => (b.popularity || 0) - (a.popularity || 0));
    } else if (currentFilter === 'season') {
      const month = new Date().getMonth();
      const season = (month === 11 || month <= 1) ? 'winter'
                    : (month >= 2 && month <= 4) ? 'spring'
                    : (month >= 5 && month <= 7) ? 'summer'
                    : 'autumn';
      products = products.filter(p => !p.season || p.season === season);
    } else if (currentFilter === 'local') {
      products = products.filter(p => p.isLocal || (!p.brand || p.brand === '–ú–∞–ª—ã–π –±–∏–∑–Ω–µ—Å –Ø–∫—É—Ç–∏–∏'));
    }

    products
      .filter(p => p.type === 'market')
      .sort((a, b) => (b.promoted === true) - (a.promoted === true))
      .forEach(p => {
        const card = document.createElement('article');
        card.className = 'card';
        card.innerHTML = `
          ${p.promoted ? '<div class="badge-top">–¢–û–ü</div>' : ''}
          ${p.isSale ? '<div class="badge-sale">–ê–∫—Ü–∏—è</div>' : ''}
          ${(p.isLocal || (!p.brand || p.brand === '–ú–∞–ª—ã–π –±–∏–∑–Ω–µ—Å –Ø–∫—É—Ç–∏–∏')) ? '<div class="badge-local">–ú–∞–ª—ã–π –±–∏–∑–Ω–µ—Å</div>' : ''}
          <div class="card-like">‚ô°</div>
          <div class="card-img">${p.desc || '–§–æ—Ç–æ —Ç–æ–≤–∞—Ä–∞'}</div>
          <div class="card-price">
            ${p.price} ‚ÇΩ
            ${p.oldPrice ? '<span class="card-price-old">'+p.oldPrice+' ‚ÇΩ</span>' : ''}
            ${p.discount ? '<span class="card-discount">'+p.discount+'%</span>' : ''}
          </div>
          <div class="card-title">${p.title}</div>
          <div class="card-meta">${p.brand || '–ú–∞–ª—ã–π –±–∏–∑–Ω–µ—Å –Ø–∫—É—Ç–∏–∏'} ‚Ä¢ ${p.place || '–Ø–∫—É—Ç–∏—è'}</div>
        `;
        container.appendChild(card);
      });
  }

  document.addEventListener('DOMContentLoaded', () => {
    loadMarketFromServer();
  });
</script>

</body>
</html>
